[General]
# è¡¨ç¤ºåœ¨è¿™ä¸ªwifiç½‘ç»œä¸‹ä½¿ç”¨ç›´è¿æ¨¡å¼
ssid-trigger = YoY:direct,default:rule, cellular:rule
# å’ŒTUNæœ‰å…³ï¼Œå¦‚æœé…ç½®äº†è¯¥å‚æ•°ï¼Œé‚£ä¹ˆæ‰€é…ç½®çš„è¿™äº›IPæ®µã€åŸŸåå°±ä¼šä¸äº¤ç»™Loonæ¥å¤„ç†ï¼Œç³»ç»Ÿç›´æ¥å¤„ç†
bypass-tun = 127.0.0.0/8, 192.168.0.0/16, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10, 162.14.0.0/16, 211.99.96.0/19, 162.159.192.0/24, 162.159.193.0/24, 162.159.195.0/24, fc00::/7, fe80::/10, localhost, *.local, captive.apple.com, passenger.t3go.cn, *.ccb.com, wxh.wo.cn, *.abcchina.com, *.abcchina.com.cn
# å’ŒHTTP Proxyæœ‰å…³ï¼Œå¦‚æœé…ç½®äº†è¯¥å‚æ•°ï¼Œé‚£ä¹ˆæ‰€é…ç½®çš„è¿™äº›IPæ®µã€åŸŸåå°†ä¸ä¼šè½¬å‘åˆ°Loonï¼Œè€Œæ˜¯ç”±ç³»ç»Ÿå¤„ç†
# skip-proxy = 192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,localhost,*.local,e.crashlynatics.com
# DNS server
dns-server = system,223.5.5.5,119.29.29.29
# DoH server
doh-server = https://1.12.12.12/dns-query,https://120.53.53.53/dns-query
# DoQ server
doq-server = quic://223.5.5.5:853,quic://223.6.6.6:853
# ipv4/6
ip-mode = dual
# æ˜¯å¦å¼€å¯å±€åŸŸç½‘ä»£ç†è®¿é—®
allow-wifi-access = false
# å¼€å¯å±€åŸŸç½‘è®¿é—®åçš„httpä»£ç†ç«¯å£
wifi-access-http-port = 9091
# å¼€å¯å±€åŸŸç½‘è®¿é—®åçš„socks5ä»£ç†ç«¯å£
wifi-access-socks5-port = 9092
# æµ‹é€Ÿæ‰€ç”¨çš„æµ‹è¯•é“¾æ¥ï¼Œå¦‚æœç­–ç•¥ç»„æ²¡æœ‰è‡ªå®šä¹‰æµ‹è¯•é“¾æ¥å°±ä¼šä½¿ç”¨è¿™é‡Œé…ç½®çš„
proxy-test-url = http://cp.cloudflare.com/generate_204
# æ£€æµ‹ç½‘ç»œå¯ç”¨æ€§æ—¶çš„é“¾æ¥ï¼Œä¸€èˆ¬å¡«å†™å¯ä»¥ç›´è¿è®¿é—®çš„é“¾æ¥
internet-test-url = http://connectivitycheck.platform.hicloud.com/generate_204
# èŠ‚ç‚¹æµ‹é€Ÿæ—¶çš„è¶…æ—¶ç§’æ•°
test-timeout = 2
# ä¸€ä¸ªèŠ‚ç‚¹è¿æ¥å¤±è´¥å‡ æ¬¡åä¼šè¿›è¡ŒèŠ‚ç‚¹åˆ‡æ¢ï¼Œé»˜è®¤3æ¬¡
switch-node-after-failure-times = 3
# è®¢é˜…èµ„æºè§£æå™¨é“¾æ¥ï¼Œæ¨èPengå¤§çš„sub-storeè®¢é˜…èŠ‚ç‚¹è§£æå™¨
resource-parser = https://github.com/sub-store-org/Sub-Store/releases/latest/download/sub-store-parser.loon.min.js
# è¿”å›çœŸå®ipçš„åŸŸå
real-ip = *.ugreen.cloud,*.ugreengroup.com
# æŒ‡å®šæµé‡ä½¿ç”¨å“ªä¸ªç½‘ç»œæ¥å£è¿›è¡Œè½¬å‘ï¼Œç›®å‰åŒ…å«ä¸‰ç§æ¨¡å¼: 
# Auto: ç³»ç»Ÿè‡ªåŠ¨åˆ†é…
# 1.Cellular: åœ¨WiFiå’Œèœ‚çªæ•°æ®éƒ½å¼€å¯çš„æƒ…å†µä¸‹æŒ‡å®šä½¿ç”¨èœ‚çªç½‘ç»œ
# 2.Performace: åœ¨WiFiå’Œèœ‚çªæ•°æ®éƒ½å¼€å¯çš„æƒ…å†µä¸‹ä½¿ç”¨æœ€ä¼˜çš„ç½‘ç»œæ¥å£
# 3.Balance: åœ¨WiFiå’Œèœ‚çªæ•°æ®éƒ½å¼€å¯çš„æƒ…å†µä¸‹ï¼Œå‡è¡¡ä½¿ç”¨ç½‘ç»œæ¥å£
interface-mode = auto
# ç¦ç”¨udpåè®®çš„ä¸€äº›ç«¯å£
#disable-udp-ports = 443,80
# æ˜¯å¦ç¦ç”¨stunåè®®çš„udpæ•°æ®ï¼Œç¦ç”¨åå¯ä»¥æœ‰æ•ˆè§£å†³webrtcçš„ipæ³„éœ²
disable-stun = true
# geoipæ•°æ®åº“
geoip-url = https://raw.githubusercontent.com/Masaiki/GeoIP2-CN/release/Country.mmdb
# ASNæ•°æ®åº“
ipasn-url = https://raw.githubusercontent.com/P3TERX/GeoLite.mmdb/download/GeoLite2-ASN.mmdb
# å½“UDPçš„æµé‡è§„åˆ™åŒ¹é…åˆ°ç›¸å…³èŠ‚ç‚¹ï¼Œä½†è¯¥èŠ‚ç‚¹ä¸æ”¯æŒUDPæˆ–æœªæœªå¼€å¯UDPè½¬å‘æ—¶ä½¿ç”¨çš„ç­–ç•¥ï¼Œå¯é€‰DIRECTã€REJECT
udp-fallback-mode = REJECT
# åŸŸåæ‹’ç»è§„åˆ™æ‰§è¡Œçš„é˜¶æ®µ
domain-reject-mode = DNS
# åœ¨DNSé˜¶æ®µæ‹’ç»åŸŸåæ—¶é‡‡ç”¨çš„æ–¹å¼
dns-reject-mode = LoopbackIP
# SNI è¾…åŠ©è§„åˆ™åŒ¹é…
sni-sniffing = true
# ç­–ç•¥åˆ‡æ¢æ—¶å…³é—­è¿æ¥
disconnect-on-policy-change = true

[Proxy]

[Remote Proxy]
æˆ‘çš„è¿œç¨‹è®¢é˜…é“¾æ¥ = https://subs,enabled=true

[Remote Filter]
æ¸¸æˆèŠ‚ç‚¹ = NameRegex, FilterKey = "^(?=.*((?i)æ¸¸æˆ|ğŸ®|(\b(GAME)\b)))(?!.*((?i)å›å›½|æ ¡å›­)).*$"
å…¨çƒèŠ‚ç‚¹ = NameRegex, FilterKey = "^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|(\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel)\b|(\d{4}-\d{2}-\d{2}|\dG)))).*$"
é¦™æ¸¯èŠ‚ç‚¹ = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$"
å°æ¹¾èŠ‚ç‚¹ = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡¹ğŸ‡¼|å°æ¹¾|(\b(TW|Tai|Taiwan)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$"
æ—¥æœ¬èŠ‚ç‚¹ = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$"
éŸ©å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡°ğŸ‡·|éŸ©å›½|éŸ“|é¦–å°”|(\b(KR|Korea)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$"
æ–°å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$"
ç¾å›½èŠ‚ç‚¹ = NameRegex, FilterKey = "^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\b(GAME)\b))).*$"

[Proxy Group]
æ‰‹åŠ¨é€‰æ‹© = select,é¦™æ¸¯ç­–ç•¥,æ–°å›½ç­–ç•¥,å°æ¹¾ç­–ç•¥,å…¨çƒèŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Static.png
Speedtest = select,å…¨çƒèŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Speedtest.png
ä½å€èŠ‚ç‚¹ = select,æ‰‹åŠ¨é€‰æ‹©,å…¨çƒèŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Piao.png
å›½é™…åª’ä½“ = select,æ–°å›½ç­–ç•¥,ä½å€èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Streaming.png
Emby = select,DIRECT,ä½å€èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Emby.png
å…¨çƒä¸‹è½½ = select,DIRECT,ä½å€èŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Global.png
AI = select,æ–°å›½ç­–ç•¥,æ‰‹åŠ¨é€‰æ‹©, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/STC.png
Telegram = select,æ–°å›½ç­–ç•¥,æ‰‹åŠ¨é€‰æ‹©, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Telegram.png
æ¸¸æˆæ‰‹åŠ¨ = select, æ¸¸æˆèŠ‚ç‚¹, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/GAME.png
# --------------------------------
# é»˜è®¤æ•…è½¬
é¦™æ¸¯ç­–ç•¥ = select, é¦™æ¸¯æ•…éšœè½¬ç§», é¦™æ¸¯æ—¶å»¶ä¼˜é€‰, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/HK.png
æ–°å›½ç­–ç•¥ = select, æ–°å›½æ•…éšœè½¬ç§», æ–°å›½æ—¶å»¶ä¼˜é€‰, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/SG.png
å°æ¹¾ç­–ç•¥ = select, å°æ¹¾æ•…éšœè½¬ç§», å°æ¹¾æ—¶å»¶ä¼˜é€‰, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/TW.png
æ—¥æœ¬ç­–ç•¥ = select, æ—¥æœ¬æ•…éšœè½¬ç§», æ—¥æœ¬æ—¶å»¶ä¼˜é€‰, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/JP.png
éŸ©å›½ç­–ç•¥ = select, éŸ©å›½æ•…éšœè½¬ç§», éŸ©å›½æ—¶å»¶ä¼˜é€‰, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/KR.png
ç¾å›½ç­–ç•¥ = select, ç¾å›½æ•…éšœè½¬ç§», ç¾å›½æ—¶å»¶ä¼˜é€‰, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/US.png
# --------------------------------
# è‡ªåŠ¨
# æ—¶å»¶ä¼˜é€‰
é¦™æ¸¯æ—¶å»¶ä¼˜é€‰ = url-test, é¦™æ¸¯èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, tolerance = 50, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
æ–°å›½æ—¶å»¶ä¼˜é€‰ = url-test, æ–°å›½èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, tolerance = 50, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
å°æ¹¾æ—¶å»¶ä¼˜é€‰ = url-test, å°æ¹¾èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, tolerance = 50, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
æ—¥æœ¬æ—¶å»¶ä¼˜é€‰ = url-test, æ—¥æœ¬èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, tolerance = 50, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
éŸ©å›½æ—¶å»¶ä¼˜é€‰ = url-test, éŸ©å›½èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, tolerance = 50, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
ç¾å›½æ—¶å»¶ä¼˜é€‰ = url-test, ç¾å›½èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, tolerance = 50, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Urltest.png
# --------------------------------
# è‡ªåŠ¨
# æ•…éšœè½¬ç§»
é¦™æ¸¯æ•…éšœè½¬ç§» = fallback, é¦™æ¸¯èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, max-timeout = 2000, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Available.png
æ–°å›½æ•…éšœè½¬ç§» = fallback, æ–°å›½èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, max-timeout = 2000, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Available.png
å°æ¹¾æ•…éšœè½¬ç§» = fallback, å°æ¹¾èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, max-timeout = 2000, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Available.png
æ—¥æœ¬æ•…éšœè½¬ç§» = fallback, æ—¥æœ¬èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, max-timeout = 2000, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Available.png
éŸ©å›½æ•…éšœè½¬ç§» = fallback, éŸ©å›½èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, max-timeout = 2000, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Available.png
ç¾å›½æ•…éšœè½¬ç§» = fallback, ç¾å›½èŠ‚ç‚¹, url = http://cp.cloudflare.com, interval = 60, max-timeout = 2000, img-url = https://raw.githubusercontent.com/Orz-3/mini/master/Color/Available.png

[Rule]
# Local Rule
# Type:DOMAIN-SUFFIX,DOMAIN,DOMAIN-KEYWORD,USER-AGENT,URL-REGEX,IP-CIDR,IP-CIDR6,IP-ASN
# Strategy:DIRECT,Proxy,REJECT
# Options:no-resolve(no-resolve(only for cidr))
# IP-CIDR, 192.168.0.0/16, DIRECT
# IP-CIDR, 10.0.0.0/8, DIRECT
# IP-CIDR, 172.16.0.0/12, DIRECT
# IP-CIDR, 127.0.0.0/8, DIRECT
# GEOIP, cn, DIRECT
FINAL,æ‰‹åŠ¨é€‰æ‹©

[Remote Rule]
https://ruleset.skk.moe/List/non_ip/reject.conf, policy=REJECT, tag=reject_non_ip, enabled=true
https://ruleset.skk.moe/List/domainset/reject.conf, policy=REJECT, tag=reject_domainset, enabled=true
https://ruleset.skk.moe/List/non_ip/reject-no-drop.conf, policy=REJECT, tag=reject_non_ip_no_drop, enabled=true
https://ruleset.skk.moe/List/domainset/speedtest.conf, policy=Speedtest, tag=Speedtest, enabled=true
https://ruleset.skk.moe/List/domainset/cdn.conf, policy=ä½å€èŠ‚ç‚¹, tag=cdn_domainset, enabled=true
https://ruleset.skk.moe/List/non_ip/cdn.conf, policy=ä½å€èŠ‚ç‚¹, tag=cdn_non_ip, enabled=true
https://ruleset.skk.moe/List/non_ip/stream.conf, policy=å›½é™…åª’ä½“, tag=stream_non_ip, enabled=true
https://ruleset.skk.moe/List/non_ip/ai.conf, policy=AI, tag=ai_non_ip, enabled=true
https://ruleset.skk.moe/List/non_ip/telegram.conf, policy=Telegram, tag=telegram_non_ip, enabled=true
https://ruleset.skk.moe/List/domainset/apple_cdn.conf, policy=DIRECT, tag=apple_cdn, enabled=true
https://ruleset.skk.moe/List/non_ip/apple_services.conf, policy=DIRECT, tag=apple_services, enabled=true
https://ruleset.skk.moe/List/non_ip/apple_cn.conf, policy=DIRECT, tag=apple_cn_non_ip, enabled=true
https://ruleset.skk.moe/List/domainset/download.conf, policy=å…¨çƒä¸‹è½½, tag=download_domainset, enabled=true
https://ruleset.skk.moe/List/non_ip/download.conf, policy=å…¨çƒä¸‹è½½, tag=download_non_ip, enabled=true
https://ruleset.skk.moe/List/non_ip/lan.conf, policy=DIRECT, tag=lan_non_ip, enabled=true
https://raw.githubusercontent.com/Repcz/Tool/refs/heads/X/Loon/Rules/Emby.list, policy=Emby, tag=Emby, enabled=true
https://ruleset.skk.moe/List/non_ip/domestic.conf, policy=DIRECT, tag=domestic_non_ip, enabled=true
https://ruleset.skk.moe/List/non_ip/global.conf, policy=æ‰‹åŠ¨é€‰æ‹©, tag=global_non_ip, enabled=true

https://ruleset.skk.moe/List/ip/telegram.conf, policy=Telegram, tag=telegram_ip, enabled=true
https://ruleset.skk.moe/List/ip/stream.conf, policy=å›½é™…åª’ä½“, tag=stream_ip, enabled=true
https://ruleset.skk.moe/List/ip/telegram_asn.conf, policy=Telegram, tag=telegram_asn, enabled=true
https://ruleset.skk.moe/List/ip/lan.conf, policy=DIRECT, tag=lan_ip, enabled=true
https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Loon/Rule/CN_REGION, policy=DIRECT, tag=CN REGION, enabled=true

[Host]
# ssid:YoY = server:192.168.1.1

[Rewrite]

[Script]

[Plugin]
https://ruleset.skk.moe/Modules/sukka_local_dns_mapping.sgmodule, enabled=true
https://ruleset.skk.moe/Modules/sukka_common_always_realip.sgmodule, enabled=true


[Mitm]
skip-server-cert-verify = true